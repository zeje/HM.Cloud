@using System.Globalization
@using System.Threading
@using System.Threading.Tasks
@using Abp.Timing
@using HM.Cloud.Web.Views.Shared.Components.LanguageSelection
@using HM.Cloud.Web.Views.Shared.Components.TopMenu
@using Abp.Web.Security.AntiForgery
@inject IAbpAntiForgeryManager AbpAntiForgeryManager
@{
    AbpAntiForgeryManager.SetCookie(Context);
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- 浏览器标签图片 -->
    <link rel="shortcut icon" href="~/lib/topjui/image/favicon.ico" />
    <title>Cloud</title>
    <!-- Global styles -->
    <environment names="Development">
        <!-- TopJUI框架样式 -->
        <link type="text/css" href="~/lib/topjui/css/topjui.core.min.css" rel="stylesheet">
        <link type="text/css" href="~/lib/topjui/themes/default/topjui.red.css" rel="stylesheet" id="dynamicTheme" />
        <!-- FontAwesome字体图标 -->
        <link type="text/css" href="~/lib/topjui/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
    </environment>
    <environment names="Staging,Production">
        <!-- TopJUI框架样式 -->
        <link type="text/css" href="~/lib/topjui/css/topjui.core.min.css" rel="stylesheet">
        <link type="text/css" href="~/lib/topjui/themes/default/topjui.red.css" rel="stylesheet" id="dynamicTheme" />
        <!-- FontAwesome字体图标 -->
        <link type="text/css" href="~/lib/topjui/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
    </environment>
    <!-- View specific styles -->
    @RenderSection("styles", required: false)
    @*<script type="text/javascript">
            //This is used to get the application's root path from javascript. It's useful if you're running application in a virtual directory under IIS.
            var abp = abp || {}; abp.appPath = '@ApplicationPath';
        </script>*@
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    @*<!--[if lt IE 9]>
            <script src="@Url.Content("~/Scripts/others/html5shiv.js")"></script>
            <script src="@Url.Content("~/Scripts/others/respond.min.js")"></script>
        <![endif]-->*@
    @*@Scripts.Render("~/Bundles/vendor/js/top")*@
</head>
<body>
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="~/"><i class="fa fa-cubes"></i> Cloud</a>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    @await Component.InvokeAsync(typeof(TopMenuViewComponent), new { activeMenu = ViewBag.ActiveMenu })
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    @await Component.InvokeAsync(typeof(LanguageSelectionViewComponent))
                </ul>
            </div>
        </div>
    </div>
    <div class="container body-content">
        @RenderBody()
    </div>
    <!-- Global scripts -->
    <environment names="Development">
        <!-- jQuery相关引用 -->
        <script type="text/javascript" src="~/lib/topjui/plugins/jquery/jquery.min.js"></script>
        <script type="text/javascript" src="~/lib/topjui/plugins/jquery/jquery.cookie.js"></script>
        <!-- TopJUI框架配置 -->
        <script type="text/javascript" src="./static/public/js/topjui.config.js"></script>
        <script type="text/javascript">topJUI.config.mainPage = true;</script>
        <!-- TopJUI框架核心 -->
        <script type="text/javascript" src="~/lib/topjui/js/topjui.core.min.js"></script>
        <!-- TopJUI中文支持 -->
        <script type="text/javascript" src="~/lib/topjui/js/locale/topjui.lang.zh_CN.js"></script>
    </environment>
    <environment names="Staging,Production">
        <!-- jQuery相关引用 -->
        <script type="text/javascript" src="~/lib/topjui/plugins/jquery/jquery.min.js"></script>
        <script type="text/javascript" src="~/lib/topjui/plugins/jquery/jquery.cookie.js"></script>
        <!-- TopJUI框架配置 -->
        <script type="text/javascript" src="./static/public/js/topjui.config.js"></script>
        <script type="text/javascript">topJUI.config.mainPage = true;</script>
        <!-- TopJUI框架核心 -->
        <script type="text/javascript" src="~/lib/topjui/js/topjui.core.min.js"></script>
        <!-- TopJUI中文支持 -->
        <script type="text/javascript" src="~/lib/topjui/js/locale/topjui.lang.zh_CN.js"></script>
    </environment>
    <script>
        abp.localization.defaultSourceName = '@LocalizationSourceName';
        if (moment) { //Localizing momentjs
            moment.locale('@CultureInfo.CurrentUICulture.Name');
        }
    </script>
    <!-- Dynamic scripts of ABP system (They are created on runtime and can not be bundled) -->
    <script src="~/AbpServiceProxies/GetAll?v=@(Clock.Now.Ticks)" type="text/javascript"></script>
    <script src="~/AbpScripts/GetScripts?v=@(Clock.Now.Ticks)" type="text/javascript"></script>
    <!-- View specific scripts -->
    @RenderSection("scripts", required: false)
</body>
</html>
